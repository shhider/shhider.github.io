---
layout: post
title: 给夫人看的Ubuntu系统安装方法
category: code
---

## 前言

我的女票，和我同系——计算机，本科时霸占系里第一名多年，我只能望着这位美腻的“学神”兴叹~~

女票天资聪颖，在攻读博士、探索研究计算机领域更深入的部分。最近呢要进行一些实验，需在自己的笔记本上安装Linux系统，不过之前没有做过安装系统这种事，而我又小心眼、不想便宜了实验室师兄做这个【指导小师妹】的事情，所以就我来给女票整理整理安装Ubuntu系统的过程。

其实我也只是知道基本步骤，具体为何如此，好多处都不太了解，若有大神路过本文，望不吝指导~

## Wubi安装

Wubi（基于Windows的Ubuntu安装程序，Windows-based Ubuntu Installer）

### 功能和目标：

- 帮助不熟悉Linux的Windows用户在试用Ubuntu时，无需对硬盘进行格式化或重新分区；
- 也可以通过Wubi快速地卸载Ubuntu。

### 关键词：

- 非虚拟机。Wubi是在一个虚拟设备中创建一个独立的安装（我的理解就是与虚拟机的原理类似）；
- 从8.04起，Wubi的代码开始合并到Ubuntu中；
- Ubuntu 13.04停止支持Wubi（然后我在目录里还能看到Wubi？）；
- 另外还有Lubi、Mubi，分别基于Linux、Mac；

### 局限性：

- 不支持休眠；
- 强制重启（关闭电源）时，Wubi的文件系统比普通的文件系统更脆弱；
- 貌似跟win8、win10不是很搭。我用Wubi安装的双系统，常常没有系统选择的界面，所以你如果之后要升级win10的话，就不要用Wubi安装了。

### 安装方法

1. 首先，下载Ubuntu系统的ISO镜像文件。通过你想安装的Ubuntu版本（建议选择14.04.3长期支持版）、Ubuntu类型（Desktop或Server，我们选择Desktop桌面版）、windows类型（32位或64位，我记得你的win7是64位的），所以可以定位到，我们需要`ubuntu-14.04.3-desktop-amd64.iso`这个文件。  
从[Ubuntu官方](http://www.ubuntu.org.cn/desktop)，我们可以找到各个版本的下载。不过我建议从国内的镜像站下载，下载速度会快不少~  
    - [网易的镜像站](http://mirrors.163.com/ubuntu-releases/)
    - [搜狐的镜像站](http://mirrors.sohu.com/ubuntu-releases/)
    - [浙江大学的镜像站](http://mirrors.zju.edu.cn/ubuntu-releases/)
    - 你还可以找到很多公司和高校提供的镜像站
2. 在下载Ubuntu的ISO文件时，你也可以看到`wubi.exe`文件，一起下载下来，放在同个目录里~  
![镜像站的文件列表](/public/img/20151207-1-01.png)
3. Ubuntu的镜像文件和`Wubi.exe`下载完成后，就把网络断开，不然安装过程会麻烦好多。  
现在双击`wubi.exe`，出现如图的窗口；  
![文件和安装窗口](/public/img/20151207-1-02.png)
4. 就像安装一个Windows的应用程序一样，上面的选项你一一配置下，点击“安装”，等一会儿提示重启电脑，你就能在启动界面看到Ubuntu的选项，就可以进入Ubuntu系统，根据设置简单设置下，就可以连上网络，开始使用了~

### 卸载方法

卸载Ubuntu也是跟windows下卸载一个应用程序一样，进入你安装Ubuntu的目录，找到`Uninstall-Ubuntu.exe`文件，运行即可。

## 硬盘安装

硬盘安装呢，要复杂一些，但是系统更健壮，文件方面的问题会少一些。

### 安装方法

我们这里用一个U盘来进行安装。所以先准备一个4G左右的U盘，U盘会被格式化，所以里面的文件该备份的备份。

#### 准备工作

在Windows下清理出一个空的、大约30G的分区。不过，已经用了一段时间的Windows，貌似不太好清理出这样的分区，得具体情况具体分析，所以【这段暂且空着……】

把Ubuntu安装镜像刻录进U盘。同样，你要下载Ubuntu的镜像文件，以及刻录软件`UltraISO`。刻录方法可以看[这里](http://www.linuxidc.com/Linux/2012-11/74695.htm)。你之前刻录过，可以轻松搞定的。

#### 开始安装

插着U盘，重启电脑，按F12进入Boot Option（联想的机子一般是F12，其他机子可能不一样），选择从U盘启动。

加载之后，就进入了Ubuntu的体验版，你可以看到桌面上“安装Ubuntu 14.04.03”的图标。如下图（这是Google的图片）：

![Ubuntu体验版的桌面](/public/img/20151207-1-03.png)

双击图标开始安装。

![开始安装](/public/img/20151207-1-04.png)

- 语言选择中文；
- 注意，如果提示你连接网络，先不要连接，和Wubi安装一样，联网安装会带来很多无谓的时间和麻烦；
- 注意，安装类型选择“其他选项”。即使有看着合乎目的的“与Window 7共存”；  
![其他选项](/public/img/20151207-1-05.png)

接下来是让人摸不准的分区。

![其他选项](/public/img/20151207-1-06.png)

详细的分区图示，可以从最后引用的第三点中看到。我大致地列一下过程：

- 在分区列表中，选中准备工作中清理出的空分区。点击`添加...`，弹出窗口：  
![其他选项](/public/img/20151207-1-07.png)  
    + 新分区类型选择“逻辑分区”。原因是一个硬盘的“主分区”数量有限制，Windows至少占去两个；经过我自己的尝试，Ubuntu的安装过程中，已经不能选择“主分区”了。不过选择“逻辑分区”并没有什么影响；
    + 位置，“起始”即可；
    + 关于新分区容量、用于、挂载点，我们需要新建多个分区用于不同的用途；

具体的需要哪些分区，以及原理，我也不太清楚。不过我自己，主要分了一下几个分区：

| 挂载点 | 用于             | 新分区容量 | 说明 |
| ------ |------------------| -----------| ---- |
| /      | Ext4日志文件系统 | 15G        | 所有未指定挂载点的目录都会放到这个挂载点下，所以不要太小，看磁盘充裕程度。 |
| swap   | 交换空间         | 2G         | 一般和内存大小一致，2G/4G都OK   |
| /home  | Ext4日志文件系统 |  剩下的都分到这里 |  |

分区完成后，让“/”为选中，点击“继续”。

接下来会有设置键盘布局（汉语or英语(美国)）、账户信息（填写用户名、设置密码等），最后等待一段时间。

安装完成后，输入密码就可以开始使用Ubuntu啦~

## Windows系统出问题了！

Windows下的事情会比较多，有时候不小心，就会需要重装系统。重装Windows系统后，你会发现进不了Ubuntu了！这个情况，其实Ubuntu系统依然是正常的，只是没有了入口。所以这个时候就需要把入口再找回来。

这个情况，我自己也遇到好多次了，已经整理了一片博文，请戳[这儿](/blog/2015/07/fuck-grub/)。

感谢阅读~

（**部分图片来自网络，侵删**）

### Reference

1. [Wubi - 维基百科](https://zh.wikipedia.org/wiki/Wubi)
2. [五种ubuntu安装方法简述](http://forum.ubuntu.org.cn/viewtopic.php?t=268355)
3. [Windows系统下硬盘安装UBUNTU教程](http://bbs.zol.com.cn/diybbs/d33925_8.html)

